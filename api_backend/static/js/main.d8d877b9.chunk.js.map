{"version":3,"sources":["App.js","index.js"],"names":["config","headers","App","useState","username","setUsername","password","setPassword","useCookies","setCookie","loginError","setLoginError","className","htmlFor","id","name","placeholder","onChange","e","target","value","type","onClick","body","axios","post","concat","querystring","stringify","then","response","token","data","access_token","path","maxAge","get","Authorization","window","location","replace","catch","setTimeout","style","display","marginTop","justifyContent","fontWeight","color","ReactDOM","render","CookiesProvider","document","getElementById"],"mappings":"+RAMMA,G,MAAS,CACbC,QAAS,CACP,eAAgB,uCAsGLC,MAhGf,WAAgB,IAAD,EACmBC,mBAAS,IAD5B,mBACNC,EADM,KACIC,EADJ,OAEmBF,mBAAS,IAF5B,mBAENG,EAFM,KAEIC,EAFJ,OAIcC,YAAW,CAAC,kBAJ1B,mBAICC,GAJD,aAMuBN,oBAAS,GANhC,mBAMNO,EANM,KAMMC,EANN,KA2CX,OACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,QACb,8BACE,6BACE,2BAAOA,UAAU,QAAQC,QAAQ,YAAjC,YAGA,2BACED,UAAU,QACVE,GAAG,WACHC,KAAK,WACLC,YAAY,WACZC,SArBd,SAA8BC,GAC5Bb,EAAYa,EAAEC,OAAOC,WAwBb,6BACE,2BAAOR,UAAU,QAAQC,QAAQ,YAAjC,YAGA,2BACED,UAAU,QACVE,GAAG,WACHC,KAAK,WACLC,YAAY,eACZK,KAAK,WACLJ,SA/Bd,SAA8BC,GAC5BX,EAAYW,EAAEC,OAAOC,WAkCb,yBAAKR,UAAU,oBACb,4BAAQA,UAAU,SAASS,KAAK,SAASC,QAnErD,WACE,IAAMC,EAAO,CACXnB,SAAUA,EACVE,SAAUA,GAGZkB,IACGC,KAjBU,wBAiBOC,OAAO,UAAWC,IAAYC,UAAUL,GAAOvB,GAChE6B,MAAK,SAACC,GACL,IAAMC,EAAQD,EAASE,KAAKC,aAC5BxB,EAAU,gBAAD,UAAoBsB,GAAQ,CAACG,KAAM,IAAIC,OAAO,OACvDX,IACGY,IAtBM,wBAsBUV,OAAO,SAAU,CAChCzB,QAAS,CAAEoC,cAAc,UAAD,OAAYN,MAErCF,MAAK,WACJS,OAAOC,SAASC,QA1BX,wBA0B+Bd,OAAO,gBAGhDe,OAAM,SAACvB,GACNP,GAAc,GACd+B,YAAW,WACT/B,GAAc,KACb,UA4CG,UAIF,yBACEgC,MAAO,CACLC,QAAS,OACTC,UAAW,OACXC,eAAgB,SAChBC,WAAY,OACZC,MAAO,QAGRtC,EAAa,4CAAyB,U,QChGrDuC,IAASC,OACP,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.d8d877b9.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport querystring from \"querystring\";\nimport { useCookies } from \"react-cookie\";\nimport \"./App.css\";\n\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n  },\n};\n\nconst BACKEND_URL = `http://127.0.0.1:8000`;\n\nfunction App() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [cookie,setCookie] = useCookies([\"Authorization\"]);\n\n  const [loginError, setLoginError] = useState(false);\n\n  function handleLogin() {\n    const body = {\n      username: username,\n      password: password,\n    };\n    // The post request\n    axios\n      .post(BACKEND_URL.concat(\"/token\"), querystring.stringify(body), config)\n      .then((response) => {\n        const token = response.data.access_token;\n        setCookie(\"Authorization\",`${token}`,{path: \"/\",maxAge:1800});\n        axios\n          .get(BACKEND_URL.concat(\"/docs\"), {\n            headers: { Authorization: `Bearer ${token}` },\n          })\n          .then(() => {\n            window.location.replace(BACKEND_URL.concat(\"/docs\"));\n          });\n      })\n      .catch((e) => {\n        setLoginError(true);\n        setTimeout(() => {\n          setLoginError(false);\n        }, 3000);\n      });\n  }\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <form>\n            <div>\n              <label className=\"label\" htmlFor=\"username\">\n                Username\n              </label>\n              <input\n                className=\"input\"\n                id=\"username\"\n                name=\"username\"\n                placeholder=\"Username\"\n                onChange={handleUsernameChange}\n              />\n            </div>\n\n            <div>\n              <label className=\"label\" htmlFor=\"password\">\n                Password\n              </label>\n              <input\n                className=\"input\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"************\"\n                type=\"password\"\n                onChange={handlePasswordChange}\n              />\n            </div>\n\n            <div className=\"button-container\">\n              <button className=\"button\" type=\"button\" onClick={handleLogin}>\n                Login\n              </button>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                marginTop: \"15px\",\n                justifyContent: \"center\",\n                fontWeight: \"bold\",\n                color: \"red\",\n              }}\n            >\n              {loginError ? <div>Login error</div> : null}\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { CookiesProvider } from \"react-cookie\";\n\nReactDOM.render(\n  <CookiesProvider>\n    <App />\n  </CookiesProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}